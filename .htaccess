RewriteEngine On

# Redirect requests for *.html to extensionless URLs
RewriteCond %{THE_REQUEST} \s/+([^\s]+?)\.html[\s?] [NC]
RewriteRule ^ %1/ [R=301,L]

# Redirect /index.html to root
RewriteCond %{THE_REQUEST} \s/+index\.html[\s?] [NC]
RewriteRule ^index\.html$ / [R=301,L]

# Serve extensionless URLs by mapping to existing .html files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)/?$ $1.html [L]

DirectoryIndex index.html
